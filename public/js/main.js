'use strict';

function initialize() {

  var mapCanvas = document.getElementById('map-canvas');
  var mapOptions = {
    center: new google.maps.LatLng(36.1667, 86.7833),
    zoom: 15,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };
  var map = new google.maps.Map(mapCanvas, mapOptions);

  // Try HTML5 geolocation
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function (position) {
      var pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);

      var infowindow = new google.maps.InfoWindow({
        map: map,
        position: pos,
        content: 'You are here.'
      });
      var marker = new google.maps.Marker({
        position: pos,
        map: map,
        title: 'Geolocation success!'
      });
      google.maps.event.addListener(marker, 'click', function () {
        infowindow.open(map, marker);
      });

      map.setCenter(pos);
    }, function () {
      handleNoGeolocation(true);
    });
  } else {
    // Browser doesn't support Geolocation
    handleNoGeolocation(false);
  }
}

function handleNoGeolocation(errorFlag) {
  if (errorFlag) {
    var content = 'Error: The Geolocation service failed.';
  } else {
    var content = 'Error: Your browser doesn\'t support geolocation.';
  }

  var options = {
    map: map,
    position: new google.maps.LatLng(36.1667, 86.7833),
    content: content
  };

  var infowindow = new google.maps.InfoWindow(options);
  map.setCenter(options.position);
}

google.maps.event.addDomListener(window, 'load', initialize);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsU0FBUyxVQUFVLEdBQUc7O0FBRXBCLE1BQUksU0FBUyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDdEQsTUFBSSxVQUFVLEdBQUc7QUFDZixVQUFNLEVBQUUsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDO0FBQ2hELFFBQUksRUFBRSxFQUFFO0FBQ1IsYUFBUyxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU87R0FDekMsQ0FBQTtBQUNELE1BQUksR0FBRyxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxDQUFDOzs7QUFJckQsTUFBSSxTQUFTLENBQUMsV0FBVyxFQUFFO0FBQ3pCLGFBQVMsQ0FBQyxXQUFXLENBQUMsa0JBQWtCLENBQUMsVUFBVSxRQUFRLEVBQUU7QUFDM0QsVUFBSSxHQUFHLEdBQUcsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFDdkQsUUFBUSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQzs7QUFFN0IsVUFBSSxVQUFVLEdBQUcsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztBQUMxQyxXQUFHLEVBQUUsR0FBRztBQUNSLGdCQUFRLEVBQUUsR0FBRztBQUNiLGVBQU8sRUFBRSxlQUFlO09BQ3pCLENBQUMsQ0FBQztBQUNILFVBQUksTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7QUFDbEMsZ0JBQVEsRUFBRSxHQUFHO0FBQ2IsV0FBRyxFQUFFLEdBQUc7QUFDUixhQUFLLEVBQUUsc0JBQXNCO09BQzlCLENBQUMsQ0FBQztBQUNILFlBQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLFlBQVk7QUFDekQsa0JBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO09BQzlCLENBQUMsQ0FBQzs7QUFFSCxTQUFHLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ3BCLEVBQUUsWUFBWTtBQUNiLHlCQUFtQixDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzNCLENBQUMsQ0FBQztHQUNKLE1BQU07O0FBRUwsdUJBQW1CLENBQUMsS0FBSyxDQUFDLENBQUM7R0FDNUI7Q0FDRjs7QUFFRCxTQUFTLG1CQUFtQixDQUFDLFNBQVMsRUFBRTtBQUN0QyxNQUFJLFNBQVMsRUFBRTtBQUNiLFFBQUksT0FBTyxHQUFHLHdDQUF3QyxDQUFDO0dBQ3hELE1BQU07QUFDTCxRQUFJLE9BQU8sR0FBRyxtREFBbUQsQ0FBQztHQUNuRTs7QUFFRCxNQUFJLE9BQU8sR0FBRztBQUNaLE9BQUcsRUFBRSxHQUFHO0FBQ1IsWUFBUSxFQUFFLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQztBQUNsRCxXQUFPLEVBQUUsT0FBTztHQUNqQixDQUFDOztBQUVGLE1BQUksVUFBVSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDckQsS0FBRyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7Q0FDakM7O0FBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUMiLCJmaWxlIjoic3JjL2pzL21haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuXG4gIHZhciBtYXBDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwLWNhbnZhcycpO1xuICB2YXIgbWFwT3B0aW9ucyA9IHtcbiAgICBjZW50ZXI6IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoMzYuMTY2NywgODYuNzgzMyksXG4gICAgem9vbTogMTUsXG4gICAgbWFwVHlwZUlkOiBnb29nbGUubWFwcy5NYXBUeXBlSWQuUk9BRE1BUFxuICB9XG4gIHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKG1hcENhbnZhcywgbWFwT3B0aW9ucyk7XG5cblxuICAvLyBUcnkgSFRNTDUgZ2VvbG9jYXRpb25cbiAgaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xuICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICB2YXIgcG9zID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXG4gICAgICAgIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpO1xuXG4gICAgICB2YXIgaW5mb3dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KHtcbiAgICAgICAgbWFwOiBtYXAsXG4gICAgICAgIHBvc2l0aW9uOiBwb3MsXG4gICAgICAgIGNvbnRlbnQ6ICdZb3UgYXJlIGhlcmUuJ1xuICAgICAgfSk7XG4gICAgICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgICAgIHBvc2l0aW9uOiBwb3MsXG4gICAgICAgIG1hcDogbWFwLFxuICAgICAgICB0aXRsZTogJ0dlb2xvY2F0aW9uIHN1Y2Nlc3MhJ1xuICAgICAgfSk7XG4gICAgICBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXJrZXIsICdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5mb3dpbmRvdy5vcGVuKG1hcCwgbWFya2VyKTtcbiAgICAgIH0pO1xuXG4gICAgICBtYXAuc2V0Q2VudGVyKHBvcyk7XG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgaGFuZGxlTm9HZW9sb2NhdGlvbih0cnVlKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBHZW9sb2NhdGlvblxuICAgIGhhbmRsZU5vR2VvbG9jYXRpb24oZmFsc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU5vR2VvbG9jYXRpb24oZXJyb3JGbGFnKSB7XG4gIGlmIChlcnJvckZsYWcpIHtcbiAgICB2YXIgY29udGVudCA9ICdFcnJvcjogVGhlIEdlb2xvY2F0aW9uIHNlcnZpY2UgZmFpbGVkLic7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNvbnRlbnQgPSAnRXJyb3I6IFlvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCBnZW9sb2NhdGlvbi4nO1xuICB9XG5cbiAgdmFyIG9wdGlvbnMgPSB7XG4gICAgbWFwOiBtYXAsXG4gICAgcG9zaXRpb246IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoMzYuMTY2NywgODYuNzgzMyksXG4gICAgY29udGVudDogY29udGVudFxuICB9O1xuXG4gIHZhciBpbmZvd2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3cob3B0aW9ucyk7XG4gIG1hcC5zZXRDZW50ZXIob3B0aW9ucy5wb3NpdGlvbik7XG59XG5cbmdvb2dsZS5tYXBzLmV2ZW50LmFkZERvbUxpc3RlbmVyKHdpbmRvdywgJ2xvYWQnLCBpbml0aWFsaXplKTtcbiJdfQ==